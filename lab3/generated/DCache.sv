// Generated by CIRCT firtool-1.62.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module DCache(	// src/main/scala/cache/DCache.scala:6:7
  input          clock,	// src/main/scala/cache/DCache.scala:6:7
                 reset,	// src/main/scala/cache/DCache.scala:6:7
  input  [3:0]   io_data_ren,	// src/main/scala/cache/DCache.scala:7:14
  input  [31:0]  io_data_addr,	// src/main/scala/cache/DCache.scala:7:14
  output         io_data_valid,	// src/main/scala/cache/DCache.scala:7:14
  output [31:0]  io_data_rdata,	// src/main/scala/cache/DCache.scala:7:14
  input  [3:0]   io_data_wen,	// src/main/scala/cache/DCache.scala:7:14
  input  [31:0]  io_data_wdata,	// src/main/scala/cache/DCache.scala:7:14
  output         io_data_wresp,	// src/main/scala/cache/DCache.scala:7:14
  input          io_dev_wrdy,	// src/main/scala/cache/DCache.scala:7:14
  output [3:0]   io_dev_wen,	// src/main/scala/cache/DCache.scala:7:14
  output [31:0]  io_dev_waddr,	// src/main/scala/cache/DCache.scala:7:14
                 io_dev_wdata,	// src/main/scala/cache/DCache.scala:7:14
  input          io_dev_rrdy,	// src/main/scala/cache/DCache.scala:7:14
  output [3:0]   io_dev_ren,	// src/main/scala/cache/DCache.scala:7:14
  output [31:0]  io_dev_raddr,	// src/main/scala/cache/DCache.scala:7:14
  input          io_dev_rvalid,	// src/main/scala/cache/DCache.scala:7:14
  input  [127:0] io_dev_rdata	// src/main/scala/cache/DCache.scala:7:14
);

  wire [3:0] io_dev_wen_0;	// src/main/scala/cache/DCache.scala:99:19, :102:29
  reg  [1:0] r_state;	// src/main/scala/cache/DCache.scala:47:52
  reg  [3:0] ren_r;	// src/main/scala/cache/DCache.scala:49:22
  wire       _GEN = r_state == 2'h0;	// src/main/scala/cache/DCache.scala:47:52, :51:19
  wire       _GEN_0 = r_state == 2'h1;	// src/main/scala/cache/DCache.scala:47:52, :51:19, :60:19
  wire       _GEN_1 = r_state == 2'h2 & io_dev_rvalid;	// src/main/scala/cache/DCache.scala:39:16, :47:52, :51:19, :57:22, :77:18, :78:27, :79:22
  wire       wr_resp = io_dev_wrdy & io_dev_wen_0 == 4'h0;	// src/main/scala/cache/DCache.scala:49:22, :92:{33,47}, :99:19, :102:29
  reg  [1:0] w_state;	// src/main/scala/cache/DCache.scala:95:52
  reg  [3:0] wen_r;	// src/main/scala/cache/DCache.scala:97:22
  wire       _GEN_2 = w_state == 2'h0;	// src/main/scala/cache/DCache.scala:47:52, :95:52, :99:19
  wire       _GEN_3 = _GEN_2 & (|io_data_wen);	// src/main/scala/cache/DCache.scala:97:22, :99:19, :102:{24,29}, :103:27
  wire       _GEN_4 = w_state == 2'h1;	// src/main/scala/cache/DCache.scala:60:19, :95:52, :99:19
  assign io_dev_wen_0 =
    _GEN_2
      ? ((|io_data_wen) & io_dev_wrdy ? io_data_wen : 4'h0)
      : _GEN_4 & io_dev_wrdy ? wen_r : 4'h0;	// src/main/scala/cache/DCache.scala:35:16, :49:22, :97:22, :99:19, :102:{24,29}, :103:27, :104:22, :113:20, :118:25, :120:20, :122:20
  always @(posedge clock) begin	// src/main/scala/cache/DCache.scala:6:7
    if (reset) begin	// src/main/scala/cache/DCache.scala:6:7
      r_state <= 2'h0;	// src/main/scala/cache/DCache.scala:47:52
      ren_r <= 4'h0;	// src/main/scala/cache/DCache.scala:49:22
      w_state <= 2'h0;	// src/main/scala/cache/DCache.scala:47:52, :95:52
      wen_r <= 4'h0;	// src/main/scala/cache/DCache.scala:49:22, :97:22
    end
    else begin	// src/main/scala/cache/DCache.scala:6:7
      automatic logic [1:0]      _GEN_5 = io_dev_rrdy ? 2'h2 : 2'h1;	// src/main/scala/cache/DCache.scala:55:27, :57:22, :60:19
      automatic logic [1:0]      _GEN_6 = io_dev_wrdy ? 2'h2 : 2'h1;	// src/main/scala/cache/DCache.scala:57:22, :60:19, :103:27, :105:22, :108:19
      automatic logic [3:0][1:0] _GEN_7;	// src/main/scala/cache/DCache.scala:47:52, :51:19, :54:29, :68:25, :78:27
      automatic logic [3:0][1:0] _GEN_8;	// src/main/scala/cache/DCache.scala:95:52, :99:19, :102:29, :118:25, :128:21
      _GEN_7 =
        {{r_state},
         {{~io_dev_rvalid, 1'h0}},
         {_GEN_5},
         {(|io_data_ren) ? _GEN_5 : r_state}};	// src/main/scala/cache/DCache.scala:6:7, :47:52, :51:19, :54:{24,29}, :55:27, :57:22, :60:19, :68:25, :78:27, :81:22, :85:23
      r_state <= _GEN_7[r_state];	// src/main/scala/cache/DCache.scala:47:52, :51:19, :54:29, :68:25, :78:27
      if (~(_GEN & (|io_data_ren)) | io_dev_rrdy) begin	// src/main/scala/cache/DCache.scala:49:22, :51:19, :54:{24,29}, :55:27
      end
      else	// src/main/scala/cache/DCache.scala:49:22, :51:19, :54:29, :55:27
        ren_r <= io_data_ren;	// src/main/scala/cache/DCache.scala:49:22
      _GEN_8 =
        {{w_state}, {{~wr_resp, 1'h0}}, {_GEN_6}, {(|io_data_wen) ? _GEN_6 : 2'h0}};	// src/main/scala/cache/DCache.scala:6:7, :47:52, :92:33, :95:52, :99:19, :102:{24,29}, :103:27, :105:22, :108:19, :114:20, :118:25, :128:21, :130:23, :133:23
      w_state <= _GEN_8[w_state];	// src/main/scala/cache/DCache.scala:95:52, :99:19, :102:29, :118:25, :128:21
      if (~_GEN_3 | io_dev_wrdy) begin	// src/main/scala/cache/DCache.scala:97:22, :99:19, :102:29, :103:27
      end
      else	// src/main/scala/cache/DCache.scala:97:22, :99:19, :102:29, :103:27
        wen_r <= io_data_wen;	// src/main/scala/cache/DCache.scala:97:22
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/cache/DCache.scala:6:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/cache/DCache.scala:6:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/cache/DCache.scala:6:7
    `endif // FIRRTL_BEFORE_INITIAL
    initial begin	// src/main/scala/cache/DCache.scala:6:7
      automatic logic [31:0] _RANDOM[0:0];	// src/main/scala/cache/DCache.scala:6:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/cache/DCache.scala:6:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/cache/DCache.scala:6:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/cache/DCache.scala:6:7
        _RANDOM[/*Zero width*/ 1'b0] = `RANDOM;	// src/main/scala/cache/DCache.scala:6:7
        r_state = _RANDOM[/*Zero width*/ 1'b0][1:0];	// src/main/scala/cache/DCache.scala:6:7, :47:52
        ren_r = _RANDOM[/*Zero width*/ 1'b0][5:2];	// src/main/scala/cache/DCache.scala:6:7, :47:52, :49:22
        w_state = _RANDOM[/*Zero width*/ 1'b0][7:6];	// src/main/scala/cache/DCache.scala:6:7, :47:52, :95:52
        wen_r = _RANDOM[/*Zero width*/ 1'b0][11:8];	// src/main/scala/cache/DCache.scala:6:7, :47:52, :97:22
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/cache/DCache.scala:6:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/cache/DCache.scala:6:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  assign io_data_valid = 1'h0;	// src/main/scala/cache/DCache.scala:6:7
  assign io_data_rdata = 32'h0;	// src/main/scala/cache/DCache.scala:6:7, :31:17
  assign io_data_wresp = ~(_GEN_2 | _GEN_4) & w_state == 2'h2 & wr_resp;	// src/main/scala/cache/DCache.scala:6:7, :33:17, :57:22, :92:33, :95:52, :99:19, :101:21
  assign io_dev_wen = io_dev_wen_0;	// src/main/scala/cache/DCache.scala:6:7, :99:19, :102:29
  assign io_dev_waddr = _GEN_3 ? io_data_addr : 32'h0;	// src/main/scala/cache/DCache.scala:6:7, :31:17, :36:16, :97:22, :99:19, :102:29, :103:27, :110:22
  assign io_dev_wdata = _GEN_3 ? io_data_wdata : 32'h0;	// src/main/scala/cache/DCache.scala:6:7, :31:17, :37:16, :97:22, :99:19, :102:29, :103:27, :111:22
  assign io_dev_ren =
    _GEN
      ? ((|io_data_ren) & io_dev_rrdy ? io_data_ren : 4'h0)
      : (_GEN_0 ? io_dev_rrdy : _GEN_1) ? ren_r : 4'h0;	// src/main/scala/cache/DCache.scala:6:7, :39:16, :49:22, :51:19, :54:{24,29}, :55:27, :56:22, :64:20, :68:25, :69:20, :72:20, :77:18, :78:27, :79:22
  assign io_dev_raddr =
    _GEN
      ? ((|io_data_ren) ? io_data_addr : 32'h0)
      : _GEN_0 | ~_GEN_1 ? 32'h0 : io_data_addr;	// src/main/scala/cache/DCache.scala:6:7, :31:17, :39:16, :40:16, :51:19, :54:{24,29}, :62:22, :77:18, :78:27, :79:22
endmodule

